var de=Object.defineProperty,ue=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var z=(s,e,t)=>e in s?de(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))U.call(e,t)&&z(s,t,e[t]);if(A)for(var t of A(e))F.call(e,t)&&z(s,t,e[t]);return s},v=(s,e)=>ue(s,fe(e));var P=(s,e)=>{var t={};for(var i in s)U.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&A)for(var i of A(s))e.indexOf(i)<0&&F.call(s,i)&&(t[i]=s[i]);return t};import{a as me,r as a,c as pe,b as ge,j as o,R as S,q as xe,L as be,d as he,V,e as K,t as ve,f as ye,$ as X,g as Q,h as W,i as Y,C as Se,k as G,l as H,m as _e,n as je,o as Z,p as Pe,s as Ee,u as Te,U as Ce}from"./vendor-7181d3a5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const we="modulepreload",Ve=function(s){return"/assets/blogtest/SpaBlogEditor/"+s},q={},j=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(n=>{if(n=Ve(n),n in q)return;q[n]=!0;const c=n.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!i)for(let g=r.length-1;g>=0;g--){const u=r[g];if(u.href===n&&(!c||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":we,c||(f.as="script",f.crossOrigin=""),f.href=n,document.head.appendChild(f),c)return new Promise((g,u)=>{f.addEventListener("load",g),f.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e()).catch(n=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n})},Re="sid",ee=()=>me.get(Re),Oe=a.lazy(()=>j(()=>import("./page-f4f61455.js"),["assets/page-f4f61455.js","assets/vendor-7181d3a5.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js"])),Ae=a.lazy(()=>j(()=>import("./page-57e41209.js"),["assets/page-57e41209.js","assets/vendor-7181d3a5.js","assets/button-a31bdc3b.js","assets/composer-7a07f189.js","assets/input-8c2f977d.js","assets/composer-7056009f.css"])),Le=a.lazy(()=>j(()=>import("./page-ed5e48ed.js"),["assets/page-ed5e48ed.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),Ne=a.lazy(()=>j(()=>import("./page-f81cc8ef.js"),["assets/page-f81cc8ef.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),Ie=a.lazy(()=>j(()=>import("./page-b8215939.js"),["assets/page-b8215939.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),Be=a.lazy(()=>j(()=>import("./page-00f048b5.js"),["assets/page-00f048b5.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),De=a.lazy(()=>j(()=>import("./page-19a442f3.js"),["assets/page-19a442f3.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),$e=a.lazy(()=>j(()=>import("./page-930126eb.js"),["assets/page-930126eb.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),ke=a.lazy(()=>j(()=>import("./page-4447d85e.js"),["assets/page-4447d85e.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),Me=a.lazy(()=>j(()=>import("./page-3c309538.js"),["assets/page-3c309538.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),ze=a.lazy(()=>j(()=>import("./page-bf886f31.js"),["assets/page-bf886f31.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),Ue=a.lazy(()=>j(()=>import("./page-e27ca67c.js"),["assets/page-e27ca67c.js","assets/vendor-7181d3a5.js","assets/playground-bde5e178.js","assets/header-6133a798.js","assets/drawline-89c2c498.js","assets/button-a31bdc3b.js","assets/input-8c2f977d.js","assets/composer-7a07f189.js","assets/composer-7056009f.css"])),Fe=a.lazy(()=>j(()=>import("./test-fcf8d729.js"),["assets/test-fcf8d729.js","assets/vendor-7181d3a5.js","assets/button-a31bdc3b.js","assets/drawline-89c2c498.js"])),qe=pe(ge(o.jsxs(S,{path:"/",children:[o.jsx(S,{index:!0,element:o.jsx(Oe,{})}),o.jsx(S,{path:"newPost",element:o.jsx(Le,{})}),o.jsx(S,{path:"newCategories",element:o.jsx(Ne,{})}),o.jsx(S,{path:"newSystemPage",element:o.jsx(Ie,{})}),o.jsx(S,{path:"newBlogger",element:o.jsx(Be,{})}),o.jsx(S,{path:"newPage",element:o.jsx(De,{})}),o.jsx(S,{path:"editCategory",element:o.jsx($e,{})}),o.jsx(S,{path:"editPost",element:o.jsx(ke,{})}),o.jsx(S,{path:"editBlogger",element:o.jsx(Me,{})}),o.jsx(S,{path:"editPage",element:o.jsx(ze,{})}),o.jsx(S,{path:"editSystemPage",element:o.jsx(Ue,{})}),o.jsx(S,{path:"preview",element:o.jsx(Ae,{})}),o.jsx(S,{path:"test",element:o.jsx(Fe,{})})]})),{basename:"/spablogeditor"});function Je(){const{error:s,currentUser:e,getUserCookie:t}=xe();return a.useEffect(()=>{ee(),s&&(t(),window.location.href="/")},[s,e]),o.jsx(a.Suspense,{fallback:o.jsx(be,{className:"animate-spin w-8 h-8 stroke-2 absolute left-1/2 top-1/2"}),children:o.jsx(he,{router:qe})})}const D=a.createContext({}),Ke=({children:s})=>{const[e,t]=a.useState("Post"),[i,r]=a.useState(!1),[n,c]=a.useState([]),[d,l]=a.useState(!1),h={mutate:d,toggleMutate:()=>{l(!d),c([])},rows:n,addRow:y=>{n.push(y)},suppRow:y=>{const x=n.indexOf(y);x>-1&&n.splice(x,1)},delete:i,setDelete:r,variable:e,ChangeVariable:y=>{t(y)}};return o.jsx(D.Provider,{value:h,children:s})},Xe=a.createContext({}),Qe=({children:s})=>{const[e,t]=a.useState(""),[i,r]=a.useState({}),[n,c]=a.useState(),[d,l]=a.useState(!1),f=a.useContext(D),[g,u]=a.useState(!1),[m,h]=a.useState(!0),y=b=>{u(b)},x=b=>{h(b)},C=b=>{t(b)},$=(b,w,M)=>{b?r(b):w&&M&&r(le=>v(p({},le),{[w]:M}))},{data:E,mutate:_}=V("Blog Post",{fields:["content_type","name","published","title","blog_category","content_json","blogger","published_on","meta_image"],limit:200}),{createDoc:k,isCompleted:R}=K();a.useEffect(()=>{if(E)if(e!="null"){let b=parseInt(e);c(E[b])}else c({})},[E,e]),a.useEffect(()=>{g||_()},[g]),a.useEffect(()=>{if(d&&E&&e!="null"){let b=E[parseInt(e)];b.title=b.title+" (copy)";let w=JSON.parse(b.content_json);w.blocks[0].content[0].text=w.blocks[0].content[0].text+" (copy)",b.content_json=JSON.stringify(w),k("Blog Post",b).then(()=>{f.toggleMutate(),l(!1)})}},[d,E,e]),a.useEffect(()=>{_()},[R]);const ce={update:i,variable:e,dataList:E,data:n,copy:d,publish:m,submit:g,setPublish:x,setSubmit:y,makeCopy:b=>{t(b),l(!0)},ChangeObject:$,ChangeVariable:C};return o.jsx(Xe.Provider,{value:ce,children:s})},We=a.createContext({}),Ye=({children:s})=>{const[e,t]=a.useState(""),[i,r]=a.useState(),[n,c]=a.useState({}),[d,l]=a.useState("desktop"),y={view:d,changeView:x=>{l(x)},previousPage:i,block:n,changeBlock:x=>{c(x)},changepage:x=>{r(x)},variable:e,data:()=>{var{data:x,isLoading:C}=V("Blog Category",{fields:["title","name","published","image","description"],limit:200});return x?{data:x,isLoading:C}:(x={},{data:x,isLoading:C})},ChangeVariable:x=>{t(x)}};return o.jsx(We.Provider,{value:y,children:s})},Ge=a.createContext({}),He=({children:s})=>{const[e,t]=a.useState(""),[i,r]=a.useState(),[n,c]=a.useState(2),d=m=>{t(m)};var{data:l,mutate:f}=V("BlogPage",{fields:["*"]});a.useEffect(()=>{if(l&&e){let m=parseInt(e);r(l[m])}},[l,e]),a.useEffect(()=>{n==1&&f()},[n]);const u={update:n,variable:e,dataList:l,data:i,mutate:f,setData:r,changeSubmit:m=>{c(m)},changeVariable:d};return o.jsx(Ge.Provider,{value:u,children:s})},Ze=a.createContext({}),et=({children:s})=>{const[e,t]=a.useState(""),[i,r]=a.useState(),[n,c]=a.useState(!1),d=h=>{t(h)};var{data:l,mutate:f}=V("Blogger",{fields:["name","full_name","short_name","avatar","disabled","bio"],limit:200});const g=()=>{r(void 0)};a.useEffect(()=>{if(l&&e){let h=parseInt(e);r(l[h])}},[l,e]),a.useEffect(()=>{n||f()},[n]);const m={update:n,variable:e,dataList:l,data:i,changeSubmit:h=>{c(h)},changeVariable:d,deleteData:g};return o.jsx(Ze.Provider,{value:m,children:s})},tt=a.createContext({}),st=({children:s})=>{const[e,t]=a.useState(""),[i,r]=a.useState(),[n,c]=a.useState({}),d=m=>{t(m)};var{data:l,mutate:f}=V("SystemPage",{fields:["*"]});a.useEffect(()=>{if(l)if(e){let m=parseInt(e);r(l[m])}else r({})},[l,e]);const u={update:n,variable:e,dataList:l,data:i,changeSubmit:(m,h,y)=>{m?c(m):h&&y&&c(x=>v(p({},x),{[h]:y}))},changeVariable:d,mutate:f};return o.jsx(tt.Provider,{value:u,children:s})},at=a.createContext({}),ot=({children:s})=>{const[e,t]=a.useState(!1),[i,r]=a.useState(!1),[n,c]=a.useState(!1),[d,l]=a.useState(!1),[f,g]=a.useState(!1),m={error:f,sidebarRight:e,sidebar:i,sideApp:n,itemSideBar:d,toggle:h=>{switch(h){case"SideBar":r(!i);break;case"SideApp":c(!n);break;case"SideBarRight":t(!e);break;case"ItemSideBar":l(!d);break;case"Error":g(!f);break}}};return o.jsx(at.Provider,{value:m,children:s})},rt=a.createContext({}),nt=({children:s})=>{const[e,t]=a.useState(""),[i,r]=a.useState(),[n,c]=a.useState(!1),[d,l]=a.useState(!1),f=a.useContext(D),g=_=>{t(_)};var{data:u,mutate:m}=V("Blog Category",{fields:["name","title","image","published","description"],limit:200});const{createDoc:h,isCompleted:y}=K(),x=()=>{r(void 0)};a.useEffect(()=>{m()},[y]);const C=_=>{t(_),l(!0)};a.useEffect(()=>{if(d&&u&&e!="null"){let _=u[parseInt(e)],{name:k}=_,R=P(_,["name"]);R.title=R.title+" (copy)",h("Blog Category",R).then(()=>{f.toggleMutate(),l(!1)})}},[d,u,e]),a.useEffect(()=>{if(u&&e){let _=parseInt(e);r(u[_])}},[u,e]),a.useEffect(()=>{n||m()},[n]);const E={update:n,variable:e,copy:d,makeCopy:C,dataList:u,data:i,changeSubmit:_=>{c(_)},changeVariable:g,deleteData:x};return o.jsx(rt.Provider,{value:E,children:s})};function T(...s){return ve(ye(s))}const it=je,te=a.forwardRef((i,t)=>{var r=i,{className:s}=r,e=P(r,["className"]);return o.jsx(X,p({ref:t,className:T("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s)},e))});te.displayName=X.displayName;const ct=_e("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),se=a.forwardRef((r,i)=>{var n=r,{className:s,variant:e}=n,t=P(n,["className","variant"]);return o.jsx(Q,p({ref:i,className:T(ct({variant:e}),s)},t))});se.displayName=Q.displayName;const lt=a.forwardRef((i,t)=>{var r=i,{className:s}=r,e=P(r,["className"]);return o.jsx(W,p({ref:t,className:T("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s)},e))});lt.displayName=W.displayName;const ae=a.forwardRef((i,t)=>{var r=i,{className:s}=r,e=P(r,["className"]);return o.jsx(Y,v(p({ref:t,className:T("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":""},e),{children:o.jsx(Se,{className:"h-4 w-4"})}))});ae.displayName=Y.displayName;const oe=a.forwardRef((i,t)=>{var r=i,{className:s}=r,e=P(r,["className"]);return o.jsx(G,p({ref:t,className:T("text-sm font-semibold [&+div]:text-xs",s)},e))});oe.displayName=G.displayName;const re=a.forwardRef((i,t)=>{var r=i,{className:s}=r,e=P(r,["className"]);return o.jsx(H,p({ref:t,className:T("text-sm opacity-90",s)},e))});re.displayName=H.displayName;const dt=1,ut=1e6;let I=0;function ft(){return I=(I+1)%Number.MAX_VALUE,I.toString()}const B=new Map,J=s=>{if(B.has(s))return;const e=setTimeout(()=>{B.delete(s),O({type:"REMOVE_TOAST",toastId:s})},ut);B.set(s,e)},mt=(s,e)=>{switch(e.type){case"ADD_TOAST":return v(p({},s),{toasts:[e.toast,...s.toasts].slice(0,dt)});case"UPDATE_TOAST":return v(p({},s),{toasts:s.toasts.map(t=>t.id===e.toast.id?p(p({},t),e.toast):t)});case"DISMISS_TOAST":{const{toastId:t}=e;return t?J(t):s.toasts.forEach(i=>{J(i.id)}),v(p({},s),{toasts:s.toasts.map(i=>i.id===t||t===void 0?v(p({},i),{open:!1}):i)})}case"REMOVE_TOAST":return e.toastId===void 0?v(p({},s),{toasts:[]}):v(p({},s),{toasts:s.toasts.filter(t=>t.id!==e.toastId)})}},L=[];let N={toasts:[]};function O(s){N=mt(N,s),L.forEach(e=>{e(N)})}function pt(e){var s=P(e,[]);const t=ft(),i=n=>O({type:"UPDATE_TOAST",toast:v(p({},n),{id:t})}),r=()=>O({type:"DISMISS_TOAST",toastId:t});return O({type:"ADD_TOAST",toast:v(p({},s),{id:t,open:!0,onOpenChange:n=>{n||r()}})}),{id:t,dismiss:r,update:i}}function gt(){const[s,e]=a.useState(N);return a.useEffect(()=>(L.push(e),()=>{const t=L.indexOf(e);t>-1&&L.splice(t,1)}),[s]),v(p({},s),{toast:pt,dismiss:t=>O({type:"DISMISS_TOAST",toastId:t})})}function xt(){const{toasts:s}=gt();return o.jsxs(it,{children:[s.map(function(c){var d=c,{id:e,title:t,description:i,action:r}=d,n=P(d,["id","title","description","action"]);return o.jsxs(se,v(p({},n),{children:[o.jsxs("div",{className:"grid gap-1",children:[t&&o.jsx(oe,{children:t}),i&&o.jsx(re,{children:i})]}),r,o.jsx(ae,{})]}),e)}),o.jsx(te,{})]})}const ne=a.createContext({}),bt=({children:s})=>{const[e,t]=a.useState(!1),[i,r]=a.useState(0),[n,c]=a.useState(!1),g={loading:e,setLoading:u=>{t(u)},progress:i,setProgress:u=>{r(u)},completed:n,setCompleted:()=>{c(!0),t(!1)}};return o.jsx(ne.Provider,{value:g,children:s})},ie=a.forwardRef((r,i)=>{var n=r,{className:s,value:e}=n,t=P(n,["className","value"]);return o.jsx(Z,v(p({ref:i,className:T("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s)},t),{children:o.jsx(Pe,{className:"h-full w-full flex-1 bg-gradient-to-r from-[#5756FF] -from-0.6% to-[#9149FF] to-121.53% transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}))});ie.displayName=Z.displayName;function ht(){const[s,e]=a.useState(0),t=a.useContext(ne);var i;return a.useEffect(()=>{if(t.loading===!0&&(clearTimeout(i),i=setTimeout(()=>e(95),1e3)),t.progress!==0){const r=t.progress/4;clearTimeout(i),i=setTimeout(()=>e(r),1e3)}t.completed&&(clearTimeout(i),i=setTimeout(()=>e(100),100))},[t.progress,t.loading,t.completed]),a.useEffect(()=>{s===100&&(clearTimeout(i),setTimeout(()=>e(0),1e3))},[s]),o.jsx(ie,{value:s,className:`w-full z-[9999] h-1 rounded-none fixed top-0 left-0  bg-transparent ;
  ] `})}Ee.createRoot(document.getElementById("root")).render(o.jsx(Te.StrictMode,{children:o.jsx(Ce,{tokenParams:{type:"Bearer",useToken:!0,token:()=>ee()},children:o.jsx(ot,{children:o.jsx(Ke,{children:o.jsx(bt,{children:o.jsx(Ye,{children:o.jsx(st,{children:o.jsx(et,{children:o.jsx(Qe,{children:o.jsx(He,{children:o.jsxs(nt,{children:[o.jsx(ht,{}),o.jsx(Je,{}),o.jsx(xt,{})]})})})})})})})})})})}));export{at as A,Ze as B,rt as C,ne as L,Xe as P,tt as S,D as T,We as a,Ge as b,T as c,gt as u};
//# sourceMappingURL=index-5c37fe80.js.map
